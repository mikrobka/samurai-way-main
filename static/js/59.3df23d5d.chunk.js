"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[59],{6059:function(t,s,n){n.r(s),n.d(s,{ProfileClassComponent:function(){return F},default:function(){return D}});var e=n(1413),r=n(5671),i=n(3144),o=n(136),u=n(5716),a=n(2791),l={},c="ProfileInfo_discriptionBlock__FLO8i",p=n(702),d=n(885),f="ProfileStatus_status_wrapper__bqGgu",h=n(184),x=function(t){var s=(0,a.useState)(!1),n=(0,d.Z)(s,2),e=n[0],r=n[1],i=(0,a.useState)(t.status),o=(0,d.Z)(i,2),u=o[0],l=o[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,h.jsx)("li",{className:f,children:e?(0,h.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(u)},value:u}):(0,h.jsx)("span",{placeholder:"status",onDoubleClick:function(){r(!0)},children:t.status})})},j=function(t){console.log(t.profile);return t.profile?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("picture",{children:(0,h.jsx)("img",{src:t.profile.photos.large?t.profile.photos.large:"https://static.prinseps.com/media/uploads/cryptopunk6278.png",alt:t.profile.fullName})}),(0,h.jsx)("div",{children:t.profile.fullName}),(0,h.jsx)(x,{status:t.profile.aboutMe,updateStatus:t.updateStatus}),"ava+discription"]})}):(0,h.jsx)(p.p,{})},m=n(6407),g=n(8687),v="MyPosts_posts_form__fNS2O",_="MyPosts_posts__GSiZ2",S="Post_post__wW6-Y";function k(t){return(0,h.jsxs)("li",{className:S,children:[(0,h.jsx)("img",{src:"ava",alt:"id"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{children:"text"}),(0,h.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Ei-like.svg/1200px-Ei-like.svg.png"}),(0,h.jsx)("span",{children:"likes"}),(0,h.jsx)("button",{children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",children:(0,h.jsx)("path",{d:"M 39.486328 6.9785156 A 1.50015 1.50015 0 0 0 38.439453 7.4394531 L 24 21.878906 L 9.5605469 7.4394531 A 1.50015 1.50015 0 0 0 8.484375 6.984375 A 1.50015 1.50015 0 0 0 7.4394531 9.5605469 L 21.878906 24 L 7.4394531 38.439453 A 1.50015 1.50015 0 1 0 9.5605469 40.560547 L 24 26.121094 L 38.439453 40.560547 A 1.50015 1.50015 0 1 0 40.560547 38.439453 L 26.121094 24 L 40.560547 9.5605469 A 1.50015 1.50015 0 0 0 39.486328 6.9785156 z"})})})]})]})}var w=n(6139),P=n(704),Z=n(8352),A=n(3240),N=(0,Z.B)(10),b=(0,P.Z)({form:"post"})((function(t){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(w.Z,{placeholder:"Enter your new post",name:"post",component:A.g,validate:[Z.l,N]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add"})})]})})})),y=(0,g.$j)((function(t){return{postsPage:t.profilePage}}),{addPost:m.q2})((function(t){console.log("Render");var s=t.postsPage.postsData.map((function(t){return(0,h.jsx)(k,{message:t.postMessage,like:t.likesCount},t.id)}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)("div",{children:(0,h.jsx)(b,{onSubmit:function(s){t.addPost(s.post)}})})]}),(0,h.jsx)("ul",{className:_,children:s})]})})),C=function(t){return(0,h.jsxs)("div",{className:l.content,children:[(0,h.jsx)(j,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(y,{})]})},L=n(9271),M=n(2932),B=n(7781),F=function(t){(0,o.Z)(n,t);var s=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),s.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.id)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,h.jsx)(C,(0,e.Z)((0,e.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(a.Component),D=(0,B.qC)((0,g.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,id:t.profilePage.profile.userId}}),{getProfile:m.Ai,updateStatus:m.Nf,getStatus:m.lR}),L.EN,M.D)(F)},3240:function(t,s,n){n.d(s,{g:function(){return l}});var e=n(1413),r=n(5987),i="FormControls_formControl__1L7zq",o="FormControls_error__aTANB",u=n(184),a=["input","meta"],l=function(t){var s=t.input,n=t.meta,l=(0,r.Z)(t,a),c=n.touched&&n.error;return(0,u.jsxs)("div",{className:"".concat(i," ").concat(c&&o),children:[(0,u.jsx)("div",{children:(0,u.jsx)("textarea",(0,e.Z)((0,e.Z)({},s),l))}),n.error&&n.touched&&(0,u.jsx)("span",{children:n.error})]})}},2932:function(t,s,n){n.d(s,{D:function(){return c}});var e=n(1413),r=n(5987),i=(n(2791),n(9271)),o=n(8687),u=n(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,o.$j)(l)((function(s){var n=s.isAuth,o=(0,r.Z)(s,a);return n?(0,u.jsx)(t,(0,e.Z)({},o)):(0,u.jsx)(i.l_,{to:"/login"})}))}},8352:function(t,s,n){n.d(s,{l:function(){return e},B:function(){return r}});var e=function(t){return t?void 0:"".concat(t," is wrong")},r=function(t){return function(s){return s&&s.length<t?void 0:"Max length ".concat(t," symbol")}}}}]);
//# sourceMappingURL=59.3df23d5d.chunk.js.map